{% extends 'base.html' %}

{% block title %}Page1{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{{url_for('static', filename='css/page1.css') }}">
{% endblock %}
{% block content %}
<div class="container" id="contentContainer">
    <h1>Contact Us</h1>

    <form id="myForm" action="{{ url_for('app_form.page1') }}" method="POST">
        <div class="form-group">
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" required="{{page1_data.get('name','')}}">
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required value="{{page1_data.get('email','')}}">
        </div>
        <div class="form-group">
            <label for="age">Age:</label>
            <input type="number" id="age" name="age" min="0" value="{{ page1_data.get('age', '') }}">
        </div>
        <div class="form-group">
            <label for="message">Message:</label>
            <textarea id="message" name="message" required>{{ page1_data.get('message', '') }}</textarea>
        </div>
        <div class="form-group">
            <button type="submit" name="save" onclick="showConfirmationPopup(event)">Save and Proceed</button>
        </div>
    </form>
</div>

<div id="confirmationPopup" style="display:none; position:fixed; top: 50%; transform: translate(50%,-50%); background:white; padding:20px; border:10px solid #ccc;">
    <p>Once clicked on save, you won't be able to modify the details.Are you sure?</p>
    <button onclick="closePopup()">Back</button>
    <button onclick="saveAndProceed()">Save</button>
</div>

<div id="overlay" class="overlay" style="display:none;"></div>
<script>
function showConfirmationPopup(event){
    event.preventDefault();
    document.getElementById("confirmationPopup").style.display="block";
    document.getElementById("overlay").style.display="block";
    document.getElementById('contentContainer').classList.add('blur');
}

function closePopup(){
    document.getElementById("confirmationPopup").style.display="none";
    document.getElementById("overlay").style.display="none";
    document.getElementById('contentContainer').classList.remove('blur');
}

function saveAndProceed(){
    document.getElementById("myForm").submit();
}
</script>

{% endblock %}


